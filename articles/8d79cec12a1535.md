---
title: "JSXã§äºˆæœŸã›ã¬å‹•ä½œã‚’é˜²ããŸã‚ã® eslint-plugin-jsx-expressions ã®ç´¹ä»‹"
emoji: "ğŸ¶"
type: "tech"
topics: ["ESLint", "TypeScript", "React"]
published: true
---

## ã¯ã˜ã‚ã«

çš†ã•ã‚“ã¯JSXã«ã¦ã“ã†ã„ã£ãŸæ¡ä»¶åˆ†å²ã‚’ã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ãŸè¦šãˆã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ã‹ãã„ã†ç§ã¯ä½•åº¦ã‹æ›¸ã„ãŸè¦šãˆãŒï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸè¦šãˆã‚‚ï¼‰ã‚ã‚Šã¾ã™ã€‚

```tsx
type Props = {
  count: number;
};

const Container = ({ count }: Props) => {
  return (
    <div>
      {count && <Counter />}
    </div>
  );
};
```

ã—ã‹ã—ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯é–‹ç™ºè€…ã®äºˆæœŸã›ã¬ä¸å…·åˆã‚’å«ã‚“ã§ã„ã¾ã™ã€‚
`items.length` ã‚‚ã—ãã¯ `count` ãŒ `0` ã ã£ãŸå ´åˆã€`0` ãŒãƒ¬ãƒ³ãƒ€ãƒ¼ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ï¼ˆ[Reactå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://ja.reactjs.org/docs/conditional-rendering.html#inline-if-with-logical--operator)ã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼‰

![zero](https://storage.googleapis.com/zenn-user-upload/52955b797ab9-20220925.png)

Webã®å ´åˆã‚¢ãƒ—ãƒªãŒä½¿ãˆãªããªã‚‹ã‚ˆã†ãªå¤§ããªãƒã‚°ã«ã¯ç¹‹ãŒã‚Šã¾ã›ã‚“ãŒã€React Nativeã®å ´åˆã‚¢ãƒ—ãƒªãŒã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹è‡´å‘½çš„ãªãƒã‚°ã«ã‚‚ç¹‹ãŒã‚Šã¾ã™ã€‚
ã“ã†ã„ã£ãŸç‰¹å®šæ¡ä»¶ã§ã®ã¿ç™ºç”Ÿã™ã‚‹å‹•ä½œã¯ã‚³ãƒ¼ãƒ‰ã‚„ç›®è¦–ã§ã¯ç™ºè¦‹ã—ã¥ã‚‰ã„ãŸã‚ã€ä½•ã‚‰ã‹ã®æ–¹æ³•ã§è‡ªå‹•çš„ã«æ¤œçŸ¥ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚

ã“ã®è¨˜äº‹ã§ã¯ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¤œçŸ¥ãƒ»ä¿®æ­£ã—ã¦ãã‚Œã‚‹ [eslint-plugin-jsx-expressions](https://github.com/hpersson/eslint-plugin-jsx-expressions) ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

https://github.com/hpersson/eslint-plugin-jsx-expressions

## ãªãœç™ºç”Ÿã™ã‚‹ã®ã‹

ãã‚‚ãã‚‚ã“ã®ç¾è±¡ã¯ãªãœç™ºç”Ÿã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚
JSã®è«–ç†ç©(&&),è«–ç†å’Œ(||)ã¨ã„ã£ãŸæ¼”ç®—å­ã¯ã€çŸ­çµ¡è©•ä¾¡ã®çµæœã®å€¤ãŒ falsy ã ã£ãŸå ´åˆãã® falsy ã®å€¤ã‚’ãã®ã¾ã¾è¿”ã—ã¾ã™ã€‚ï¼ˆè«–ç†å’Œ(||)ã®å ´åˆ truthy ã®å€¤ï¼‰

[è«–ç†ç© (&&) - JavaScript | MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Logical_AND#%E8%A7%A3%E8%AA%AC)
[è«–ç†å’Œ (||) - JavaScript | MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Logical_OR#%E8%A7%A3%E8%AA%AC)

ã™ãªã‚ã¡ `count && <Counter />` ã®ã‚ˆã†ãªæ¡ä»¶ã§ `count` ãŒ `0` ã ã£ãŸå ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¨ã—ã¦è§£é‡ˆã•ã‚Œã¾ã™ã€‚

```tsx
const Container = () => {
  return (
    <div>
      0
    </div>
  );
};
```

ã“ã®ç¾è±¡ã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã¯è«–ç†ç©ã®åˆ¤å®šã« `boolean` ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```tsx
const Container = ({ count }) => {
  return (
    <div>
      {!!count && <Counter />}
    </div>
  );
};
```

ã—ã‹ã—ã€äººé–“ã®æ³¨æ„åŠ›ã«ã¯é™ç•ŒãŒã‚ã‚‹ã®ã§ï¼ˆ~~é¢å€’ãªã®ã§~~ï¼‰ESLintã§è‡ªå‹•æ¤œçŸ¥ãƒ»ä¿®æ­£ã‚’ã—ãŸã„ã¨ã“ã‚ã§ã™ã€‚

## eslint-plugin-jsx-expressionsã®å°å…¥

ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’æ¤œçŸ¥ã§ãã‚‹ [eslint-plugin-jsx-expressions](https://github.com/hpersson/eslint-plugin-jsx-expressions) ã‚’å°å…¥ã—ã¾ã™ã€‚
å°å…¥æ–¹æ³•ã¯READMEã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://github.com/hpersson/eslint-plugin-jsx-expressions

å°å…¥ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸç®‡æ‰€ã‚’è‡ªå‹•ä¿®æ­£ã™ã‚‹ã¨ã€booleanã§ã¯ãªã„å€¤ã‚’è‡ªå‹•çš„ã«booleanã«å¤‰æ›ã™ã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¦ãã‚Œã¾ã™ã€‚

```tsx
type Props = {
  count: number;
};

const Container: FC<Props> = ({ count }: Props) => {
  return (
    <div>
      {!!count && <Counter />}
    </div>
  );
};
```

ä»¥ä¸Šã§ã™ã€‚
æœ‰ç”¨ãªESLint Pluginã‚’é–‹ç™ºã—ã¦ãã ã•ã£ãŸä½œè€…æ§˜ã«æ„Ÿè¬ã‚’ï¼

## ã¾ã¨ã‚

- JSXå†…ã«ã¦è«–ç†ç©ã§æ¡ä»¶ã‚’è¨˜è¿°ã™ã‚‹ã¨äºˆæœŸã›ã¬ä¸å…·åˆãŒèµ·ãã†ã‚‹
- eslint-plugin-jsx-expressionsã‚’å°å…¥ã™ã‚‹ã¨é˜²ã’ã‚‹
